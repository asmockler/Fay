<html>
    <head>
        <title>Chevron Animations</title>
        <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
        <style>
            div{
                display: inline;
            }
            button{
                display:block;
            }
        </style>
    </head>
    <body>
	    <div class="container">

			<div class="much-alert" style="position:absolute;width:100%;top:10;left:0;">
				<div class="row toaster" style="display:none">
					<div class="col-sm-4 col-sm-offset-4 alert alert-info alert-dismissible">
						<button class="close">&times;</button>
						<span class="alert-content"></span>
					</div>
				</div>
			</div>

	    	<div class="row">
	    		<div class="col-sm-5">
	    			<p class="lead">Chevron</p>
	    			<div class="fay-chevron fay-chev-fan-up"></div>
	    			<div class="fay-chevron fay-chev-spring-down fay-chev-fan-up"></div>
	    			<div class="fay-chevron fay-chev-spring-up fay-chev-flip-down"></div>
	    		</div>
		    </div>

		    <div class="row">
		    	<div class="col-sm-12">
		    		<p class="lead">Menu Default Close</p>
		    		<div class="fay-menu" data-fay-open="true"></div>
		    		<div class="fay-menu" data-fay-open="true"></div>
		    		<div class="fay-menu" data-fay-open="true"></div>
		    	</div>
		    </div>

		    <div class="row">
		    	<div class="col-sm-12">
		    		<p class="lead">Menu Fold Open</p>
		    		<div class="fay-menu"></div>
		    		<div class="fay-menu"></div>
		    		<div class="fay-menu"></div>
		    	</div>
		    </div>

		    <div class="row">
		    	<div class="col-sm-12">
		    		<p class="lead">Menu Fold Close</p>
		    		<div class="fay-menu fay-menu-fold-close" data-fay-open="true"></div>
		    		<div class="fay-menu fay-menu-fold-close fay-menu-fold-open" data-fay-open="true"></div>
		    		<div class="fay-menu fay-menu-fold-close fay-menu-spin-open" data-fay-open="true"></div>
		    	</div>
		    </div>

		    <div class="row">
		    	<div class="col-sm-12">
		    		<p class="lead">Menu Spin Open</p>
		    		<div class="fay-menu fay-menu-spin-open"></div>
		    		<div class="fay-menu fay-menu-spin-open fay-menu-fold-close"></div>
		    		<div class="fay-menu fay-menu-spin-open fay-menu-spin-close"></div>
		    	</div>
		    </div>

		    <div class="row">
		    	<div class="col-sm-12">
		    		<p class="lead">Menu Spin Close</p>
		    		<div class="fay-menu fay-menu-spin-close" data-fay-open="true"></div>
		    		<div class="fay-menu fay-menu-spin-close fay-menu-fold-open" data-fay-open="true"></div>
		    		<div class="fay-menu fay-menu-spin-close fay-menu-spin-open" data-fay-open="true"></div>
		    	</div>
		    </div>
	        
<!-- 	        <div class="row">
	        	<div class="col-sm-5">
	        		<label for="speed">Animation Speed (in milliseconds)</label>
		        	<div class="input-group">
		        		<input type="text" name="speed" value="300" class="form-control" id="animation-speed">
		        		<span class="input-group-btn">
		        			<button class="btn btn-danger" id="set-animation-speed">Change Speed!</button>
		        		</span>
		        	</div>
	        	</div>
	        </div> -->

	    </div><!-- /.CONTAINER -->

        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
        <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="js/rafael.js"></script>
        <script>





$('.fay-chevron').each(function ( i ){

	/////////////////////
	// DECLARING SCALE //
	/////////////////////

	var elementScale = $(this).attr('data-fay-scale');
	var size = elementScale / 50 || 1;

	//////////////////
	// BASIC SHAPES //
	//////////////////

	var chevronDown = 'M ' + 5*size + ' ' + 15*size + ' l ' + 20*size + ' ' + 20*size + ' l ' + 20*size + ' ' + -20*size
	var chevronUp = 'M ' + 5*size + ' ' + 35*size + ' l ' + 20*size + ' ' + -20*size + ' l ' + 20*size + ' ' + 20*size

	////////////////
	// ANIMATIONS //
	////////////////

	var chevronDefaultUp = function ( paper ){
		paper.animate({
			path: chevronDown
		}, 0, function(){
			paper.animate({
				path: chevronUp
			}, 300, '<>');
		});
	}

	var chevronDefaultDown = function ( paper ){
		paper.animate({
			path: chevronUp
		}, 0, function(){
			paper.animate({
				path: chevronDown
			}, 300, '<>');
		});
	}

	var chevronFanUp = function ( paper ){
		paper.animate({
			path: chevronDown
		}, 0, function(){
			paper.animate({
				path: 'M ' + 25*size + ' ' + 15*size + ' l ' + 0 + ' ' + 20*size + ' l ' + 0 + ' ' + -20*size
			}, 150, '<>', function(){
				paper.animate({
					path: 'M ' + 25*size + ' ' + 35*size + ' l ' + 0 + ' ' + -20*size + ' l ' + 0 + ' ' + 20*size
				}, 0, function(){
					paper.animate({
						path: chevronUp
					}, 150, '<>');
				});
			});
		});
	}

	var chevronFanDown = function ( paper ){
		paper.animate({
			path: chevronUp
		}, 0, function(){
			paper.animate({
				path: 'M ' + 25*size + ' ' + 35*size + ' l ' + 0 + ' ' + -20*size + ' l ' + 0 + ' ' + 20*size
			}, 150, '<>', function(){
				paper.animate({
					path: 'M ' + 25*size + ' ' + 15*size + ' l ' + 0 + ' ' + 20*size + ' l ' + 0 + ' ' + -20*size
				}, 0, function(){
					paper.animate({
						path:chevronDown
					}, 150, '<>');
				});
			});
		});
	}

	var chevronFlipUp = function ( paper ){
		paper.animate({
			path:chevronDown
		}, 0, function(){
			paper.animate({
				path: 'M ' + 25*size + ' ' + 35*size + ' l ' + 0 + ' ' + -20*size + ' l ' + 0 + ' ' + 20*size
			}, 150, '<>', function(){
				paper.animate({
					path:chevronUp
				}, 150, '<>');
			});
		});
	}

	var chevronFlipDown = function ( paper ){
		paper.animate({
			path:chevronUp
		}, 0, function(){
			paper.animate({
				path: 'M ' + 25*size + ' ' + 15*size + ' l ' + 0 + ' ' + 20*size + ' l ' + 0 + ' ' + -20*size
			}, 150, '<>', function(){
				paper.animate({
					path:chevronDown
				}, 150, '<>');
			});
		});
	}

	var chevronSpringUp = function ( paper ){
		paper.animate({
			path:chevronDown
		}, 0, function(){
			paper.animate({
				path: 'M ' + 23*size + ' ' + 15*size + ' l ' + 2*size + ' ' + 20*size + ' l ' + 2*size + ' ' + -20*size
			}, 150, '<>', function(){
				paper.animate({
					path: chevronUp
				}, 150, '<>');
			});
		});
	}

	var chevronSpringDown = function ( paper ){
		paper.animate({
			path:chevronUp
		}, 0, function(){
			paper.animate({
				path: 'M ' + 23*size + ' ' + 35*size + ' l ' + 2*size + ' ' + -20*size + ' l ' + 2*size + ' ' + 20*size
			}, 150, '<>', function(){
				paper.animate({
					path:chevronDown
				}, 150, '<>');
			});
		});
	}

	////////////////////////
	// INITIALIZE DRAWING //
	////////////////////////

	var paper = Raphael($(this)[0], 50*size, 50*size)

	// Draws Menu Icon or X depending on data-fay-open attribute
	if ( $(this).attr('data-fay-up') == "true" ){
		var path = paper.path(chevronUp)
	} else {
    	var path = paper.path(chevronDown)
	}

	path.attr({
		'stroke-linejoin' : 'round',
		'stroke-width'    : 2,
		'stroke-linecap'  : 'round'
	});
    
   	// Click and animation logic
	$(this).on('click', function(){
		if ( $(this).attr('data-fay-up') == 'true' ){
			if ( $(this).hasClass('fay-chev-default-down') ) {
    			chevronDefaultDown(path);
    		} else if ( $(this).hasClass('fay-chev-fan-down') ) {
    			chevronFanDown(path);
    		} else if ( $(this).hasClass('fay-chev-flip-down') ) {
    			chevronFlipDown(path);
    		} else if ( $(this).hasClass('fay-chev-spring-down') ) {
    			chevronSpringDown(path);
    		} else {
    			chevronDefaultDown(path);
    		}
			$(this).attr('data-fay-up', 'false');
		} else {
			if ( $(this).hasClass('fay-chev-default-up') ){
    			chevronDefaultUp(path);
    		} else if ( $(this).hasClass('fay-chev-fan-up') ) {
    			chevronFanUp(path);
    		} else if ( $(this).hasClass('fay-chev-flip-up') ) {
    			chevronFlipUp(path);
    		} else if ( $(this).hasClass('fay-chev-spring-up') ){
    			chevronSpringUp(path);
    		} else {
    			chevronDefaultUp(path);
    		}
    		$(this).attr('data-fay-up', 'true');
		}
	});
});

        </script>
    </body>
</html>
